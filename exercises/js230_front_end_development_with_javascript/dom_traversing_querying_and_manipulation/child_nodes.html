<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
  </head>
  <body>
    <div id="1">
      <h1 id="2">Hello, <em id="3">World</em></h1>
      <p id="4">
        Welcome to wonderland. This is an
        <span id="5">awesome</span> place.
      </p>
      <a href="#" id="6"><strong id="7">Enter</strong></a>
      <div id="8"><p id="9"><a href="#" id="10">Go back</a></p></div>
    </div>
  </body>
</html>

<script>
  const elementIds = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map(String);

  function countChildren(node) {
    const directChildren = node.childNodes
    const result = { directChildren: directChildren.length };
    let indirectChildren = 0;

    function incrementIndirectChildren(node) {
      indirectChildren += node.childNodes.length;
    }

    function walk(node, callback) {
      callback(node);
      node.childNodes.forEach(child => walk(child, callback));
    }

    Array.prototype.slice.call(directChildren).forEach(child => {
      walk(child, incrementIndirectChildren);
    });

    return [directChildren.length, indirectChildren];
  }

  elementIds.forEach(id => {
    const element = document.getElementById(id);
    console.log(`id${id}: ${countChildren(element)}`);
  });
</script>
<!-- div id=1 9 direct children, 12 indirect children-->
<!-- -->
