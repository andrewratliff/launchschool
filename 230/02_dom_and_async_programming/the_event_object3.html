<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <style>
      .composer {
        background: #f5f5f5;
        padding:  1em;
        width:  30em;
      }

      .composer textarea {
        width: 100%;
        height: 4em;
      }

      .composer textarea.invalid {
        color: red;
      }
    </style>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        let composer = document.querySelector('.composer');
        let textarea = composer.querySelector('textarea');
        let counter = composer.querySelector('.counter');
        let button = composer.querySelector('button');

        function charactersRemaining() {
          const textarea = document.querySelector('textarea');
          return (140 - textarea.textLength);
        }

        function updateCounter() {
          let length = textarea.value.length;
          let remaining = charactersRemaining();
          let message = `${remaining.toString()} characters remaining`;
          let invalid = remaining < 0;

          textarea.classList.toggle('invalid', invalid);
          button.disabled = invalid;

          counter.textContent = message;
        }


        textarea.addEventListener('keyup', updateCounter);

        updateCounter();
      });
    </script>
  </head>
  <body>
    <div class="composer">
      <textarea placeholder="Enter your message"></textarea>
      <p class="counter"></p>
      <button type="submit">Post Message</button>
    </div>
  </body>
</html>
